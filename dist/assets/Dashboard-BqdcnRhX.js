import{y as B,c as n,p as e,b as t,f as P,s as D,t as i,w as M,e as c,n as z,u as F,a as C,o as I,A as S,h as O,g as Q,v as R,F as U,B as G,m as H}from"./index-pzVUFiZV.js";import{f as J,u as K,P as W}from"./ProjectModal-COSvdLh4.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const X={class:"project-card-header"},Y={class:"project-title-wrapper"},Z=["title"],tt={class:"project-task-count"},st={class:"count-number"},et={class:"project-actions"},ot={key:0,class:"project-description"},nt={class:"project-meta"},at={class:"project-date"},lt={class:"date-text"},ct={class:"project-status"},it={class:"status-text"},rt={__name:"ProjectCard",props:{project:{type:Object,required:!0}},emits:["click","edit","delete"],setup(a,{emit:_}){const r=a,u=_,m=B(()=>r.project.status==="archived"),b=()=>{u("click",r.project)},k=p=>{p.stopPropagation(),u("edit",r.project)},f=p=>{p.stopPropagation(),confirm(`Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚ "${r.project.title}"?`)&&u("delete",r.project.id)};return(p,l)=>(e(),n("div",{class:"project-card",style:D({borderColor:a.project.color}),onClick:b},[t("div",X,[t("div",{class:"project-color",style:D({backgroundColor:a.project.color})},null,4),t("div",Y,[t("h3",{class:"project-title",title:a.project.title},i(a.project.title),9,Z),t("div",tt,[t("span",st,i(a.project.taskCount||0),1),l[0]||(l[0]=t("span",{class:"count-label"},"tasks",-1))])]),t("div",et,[t("button",{onClick:M(k,["stop"]),class:"project-action-btn edit-btn",title:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ"}," âœï¸ "),t("button",{onClick:M(f,["stop"]),class:"project-action-btn delete-btn",title:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ"}," Ã— ")])]),a.project.description?(e(),n("div",ot,i(a.project.description),1)):P("",!0),t("div",nt,[t("div",at,[l[1]||(l[1]=t("span",{class:"date-icon"},"ðŸ“…",-1)),t("span",lt,i(c(J)(a.project.updatedAt)),1)]),t("div",ct,[t("span",{class:z(["status-dot",{archived:m.value}])},null,2),t("span",it,i(m.value?"ÐÑ€Ñ…Ð¸Ð²":"ÐÐºÑ‚Ð¸Ð²ÐµÐ½"),1)])]),l[2]||(l[2]=t("div",{class:"project-footer"},[t("button",{class:"open-project-btn"}," ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚ â†’ ")],-1))],4))}},dt=L(rt,[["__scopeId","data-v-d1b84436"]]),ut={class:"dashboard"},pt={class:"header"},vt={class:"header-content"},jt={class:"header-left"},ht={key:0,class:"header-stats"},_t={class:"stat-item"},mt={class:"stat-number"},bt={class:"stat-item"},kt={class:"stat-number"},ft={class:"header-right"},yt={class:"user-section"},Ct={class:"user-info"},Pt={class:"user-name"},gt={class:"main-content"},$t={class:"container"},wt={class:"actions-bar"},xt={class:"search-box"},Dt={key:0,class:"loading-state"},Mt={key:1,class:"error-state"},St={key:2,class:"empty-state"},Bt={class:"empty-content"},Lt={key:0},At={key:1},Et={key:3,class:"projects-grid"},Vt={__name:"Dashboard",setup(a){const _=H(),r=F(),{projects:u,loading:m,error:b,createProject:k,updateProject:f,deleteProject:p,projectsStats:l,loadProjects:y}=K(),h=C(!1),v=C(null),j=C(""),g=B(()=>{if(!j.value.trim())return u.value;const o=j.value.toLowerCase().trim();return u.value.filter(s=>s.title.toLowerCase().includes(o)||s.description&&s.description.toLowerCase().includes(o))}),A=o=>{_.push(`/project/${o.id}`)},$=()=>{v.value=null,h.value=!0},E=o=>{v.value=o,h.value=!0},w=()=>{h.value=!1,v.value=null},V=o=>{v.value?f(v.value.id,o):k(o),w()},N=o=>{confirm("Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ð¸ Ð²ÑÐµ ÐµÐ³Ð¾ Ð·Ð°Ð´Ð°Ñ‡Ð¸?")&&p(o)},T=()=>{confirm("Ð’Ñ‹Ð¹Ñ‚Ð¸ Ð¸Ð· ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹?")&&(r.logout(),_.push("/login"))};return I(()=>{y()}),(o,s)=>{var x;return e(),n("div",ut,[t("header",pt,[t("div",vt,[t("div",jt,[s[4]||(s[4]=t("h1",null,"ÐœÐ¾Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹",-1)),c(l)?(e(),n("div",ht,[t("span",_t,[t("span",mt,i(c(l).totalProjects),1),s[2]||(s[2]=t("span",{class:"stat-label"},"Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²",-1))]),t("span",bt,[t("span",kt,i(c(l).totalTasks),1),s[3]||(s[3]=t("span",{class:"stat-label"},"Ð·Ð°Ð´Ð°Ñ‡",-1))])])):P("",!0)]),t("div",ft,[t("div",yt,[t("div",Ct,[s[5]||(s[5]=t("span",{class:"user-avatar"},"ðŸ‘¤",-1)),t("span",Pt,i(((x=c(r).user)==null?void 0:x.login)||"Ð“Ð¾ÑÑ‚ÑŒ"),1)]),t("button",{onClick:T,class:"logout-btn"}," Ð’Ñ‹Ð¹Ñ‚Ð¸ ")])])])]),t("main",gt,[t("div",$t,[t("div",wt,[t("button",{onClick:$,class:"create-project-btn"},[...s[6]||(s[6]=[t("span",{class:"btn-icon"},"+",-1),O(" Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚ ",-1)])]),t("div",xt,[Q(t("input",{"onUpdate:modelValue":s[0]||(s[0]=d=>j.value=d),type:"text",placeholder:"ÐŸÐ¾Ð¸ÑÐº Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²...",class:"search-input"},null,512),[[R,j.value]]),s[7]||(s[7]=t("span",{class:"search-icon"},"ðŸ”",-1))])]),c(m)?(e(),n("div",Dt,[...s[8]||(s[8]=[t("div",{class:"spinner"},null,-1),t("p",null,"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²...",-1)])])):c(b)?(e(),n("div",Mt,[s[9]||(s[9]=t("div",{class:"error-icon"},"âš ï¸",-1)),s[10]||(s[10]=t("h3",null,"ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸",-1)),t("p",null,i(c(b)),1),t("button",{onClick:s[1]||(s[1]=(...d)=>c(y)&&c(y)(...d)),class:"retry-btn"}," ÐŸÐ¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ½Ð¾Ð²Ð° ")])):g.value.length===0?(e(),n("div",St,[t("div",Bt,[s[11]||(s[11]=t("div",{class:"empty-icon"},"ðŸ“",-1)),s[12]||(s[12]=t("h3",null,"ÐÐµÑ‚ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²",-1)),j.value?(e(),n("p",Lt,'ÐÐµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð² Ð¿Ð¾ Ð·Ð°Ð¿Ñ€Ð¾ÑÑƒ "'+i(j.value)+'"',1)):(e(),n("p",At,"Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÑÐ²Ð¾Ð¹ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ð¿Ñ€Ð¾ÐµÐºÑ‚!")),t("button",{onClick:$,class:"create-first-btn"}," + Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚ ")])])):(e(),n("div",Et,[(e(!0),n(U,null,G(g.value,d=>(e(),S(dt,{key:d.id,project:d,onClick:q=>A(d),onEdit:q=>E(d),onDelete:N},null,8,["project","onClick","onEdit"]))),128))])),h.value?(e(),S(W,{key:4,show:h.value,editingProject:v.value,onClose:w,onSave:V},null,8,["show","editingProject"])):P("",!0)])])])}}},zt=L(Vt,[["__scopeId","data-v-de39e9dd"]]);export{zt as default};
