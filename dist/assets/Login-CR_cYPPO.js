import{u as I,r as k,a as g,o as C,c as n,b as e,d as y,e as _,n as v,w as L,f as b,g as f,h as m,v as D,t as c,i as E,j as N,k as B,l as T,m as U,p as i}from"./index-pzVUFiZV.js";import{l as q,V as A}from"./login-animation-B-iUGjnF.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"login-page"},j={class:"lottie-background"},z={class:"login-container"},R={class:"input-group"},F={key:0,class:"error-message"},G={class:"input-group"},H=["type"],J=["title"],K={key:0,class:"error-message"},O={class:"checkbox-group"},Q={key:0,class:"submit-error"},W=["disabled"],X={key:0,class:"btn-loading"},Y={key:1},Z={class:"auth-links"},ss={__name:"Login",setup(es){const x=U(),S=I(),o=k({login:"",password:"",remember:!1}),l=k({login:"",password:""}),u=g(!1),p=g(!1),a=g(""),d=g(!1),V=()=>{u.value=!u.value},w=t=>{l[t]&&(l[t]="",d.value=!1),a.value&&(a.value="")},h=async()=>{if(!o.login.trim()){l.login="–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω";return}if(!o.password){l.password="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å";return}p.value=!0,a.value="",d.value=!1;try{const t=await S.login({login:o.login.trim(),password:o.password});console.log("–£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:",t),o.remember&&(localStorage.setItem("rememberMe","true"),localStorage.setItem("lastLogin",o.login)),x.push("/dashboard")}catch(t){console.error("–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞:",t),t.message.includes("–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å")||t.message.includes("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω")?a.value="–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å":t.message.includes("–°–µ—Ç—å")?a.value="–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.":a.value="–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.",d.value=!0,setTimeout(()=>{d.value=!1},500)}finally{p.value=!1}};return C(()=>{const t=localStorage.getItem("lastLogin");localStorage.getItem("rememberMe")&&t&&(o.login=t,o.remember=!0)}),(t,s)=>{const M=T("router-link");return i(),n("div",$,[e("div",j,[y(_(A),{"animation-data":_(q),speed:.5,loop:!0,"auto-play":!0,class:"background-animation"},null,8,["animation-data"])]),s[13]||(s[13]=e("div",{class:"overlay"},null,-1)),e("div",z,[e("div",{class:v(["login-box",{shake:d.value}])},[s[12]||(s[12]=e("div",{class:"welcome-section"},[e("div",{class:"welcome-icon"},"üëã"),e("h2",{class:"welcome-title"},"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!"),e("p",{class:"welcome-subtitle"},"–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å")],-1)),e("form",{onSubmit:L(h,["prevent"]),class:"login-form"},[e("div",R,[s[5]||(s[5]=e("label",{for:"login"},[e("span",{class:"label-icon"}),m(" –õ–æ–≥–∏–Ω ")],-1)),f(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>o.login=r),type:"text",id:"login",name:"login",required:"",placeholder:"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ª–æ–≥–∏–Ω",class:v({error:l.login}),onInput:s[1]||(s[1]=r=>w("login"))},null,34),[[D,o.login]]),l.login?(i(),n("div",F,c(l.login),1)):b("",!0)]),e("div",G,[s[6]||(s[6]=e("label",{for:"password"},[e("span",{class:"label-icon"}),m(" –ü–∞—Ä–æ–ª—å ")],-1)),f(e("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>o.password=r),type:u.value?"text":"password",id:"password",name:"password",required:"",placeholder:"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ø–∞—Ä–æ–ª—å",class:v({error:l.password}),onInput:s[3]||(s[3]=r=>w("password"))},null,42,H),[[E,o.password]]),e("button",{type:"button",class:"password-toggle",onClick:V,title:u.value?"–°–∫—Ä—ã—Ç—å –ø–∞—Ä–æ–ª—å":"–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å"},c(u.value?"üôà":"üëÅÔ∏è"),9,J),l.password?(i(),n("div",K,c(l.password),1)):b("",!0)]),e("div",O,[f(e("input",{"onUpdate:modelValue":s[4]||(s[4]=r=>o.remember=r),type:"checkbox",id:"remember",class:"checkbox"},null,512),[[N,o.remember]]),s[7]||(s[7]=e("label",{for:"remember"},"–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è",-1))]),a.value?(i(),n("div",Q,c(a.value),1)):b("",!0),e("button",{type:"submit",class:"login-btn",disabled:p.value||!o.login||!o.password},[p.value?(i(),n("span",X,[...s[8]||(s[8]=[e("span",{class:"spinner"},null,-1),m(" –ó–∞–≥—Ä—É–∑–∫–∞... ",-1)])])):(i(),n("span",Y,"–í–æ–π—Ç–∏"))],8,W),e("div",Z,[e("p",null,[s[10]||(s[10]=m("–ù–µ—Ç —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏? ",-1)),y(M,{to:"/register",class:"register-link"},{default:B(()=>[...s[9]||(s[9]=[m("–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è",-1)])]),_:1})]),s[11]||(s[11]=e("p",{class:"forgot-password"},null,-1))])],32)],2)])])}}},as=P(ss,[["__scopeId","data-v-c6702588"]]);export{as as default};
